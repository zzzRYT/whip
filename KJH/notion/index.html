<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Notion Clone Cording</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <div class="app">
    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar">
      <div class="inner">
        <button id="collapseBtn" class="collapse-btn" title="Collapse">
          ‚ü®‚ü®
        </button>

        <!-- User -->
        <div class="user-box">
          <div class="avatar">/</div>
          <div class="user-meta">
            <strong>Guest</strong>
            <small>guest@example.com</small>
          </div>
        </div>

        <!-- Actions -->
        <div class="nav-items">
          <div class="item" id="actionSearch">
            <span>üîé Search</span>
            <div class="right">
              <span class="kbd">‚åò</span><span class="kbd">K</span>
            </div>
          </div>
          <div class="item" id="actionSettings">
            <span>‚öôÔ∏è Settings</span>
          </div>
          <div class="item" id="actionCreateRoot">
            <span>‚ûï New page</span>
          </div>
        </div>

        <!-- Documents -->
        <div class="group-title">All pages</div>
        <div id="docListRoot" class="doc-list"></div>
        <div class="nav-items">
          <div class="item" id="actionAddPage">
            <span>‚ûï Add a page</span>
          </div>
        </div>

        <!-- Trash trigger -->
        <div class="nav-items">
          <div class="item" id="trashTrigger">
            <span>üóëÔ∏è Trash</span>
          </div>
        </div>

        <!-- Resize handle -->
        <div id="resizeHandle" class="resize-handle" title="Drag to resize / Double click to reset"></div>
      </div>
    </aside>

    <!-- Peek button when collapsed (mobile/compact) -->
    <button id="sidebarPeekBtn" class="peek-btn" title="Open sidebar">
      ‚ò∞
    </button>
    <!-- Navbar -->
    <header class="navbar">
      <div class="row">
        <button id="menuBtn" class="menu-btn" title="Open sidebar" aria-label="Open sidebar">
          ‚ò∞
        </button>
        <div id="breadcrumbs" class="breadcrumbs">Welcome</div>
      </div>
      <div class="row-end">
        <button id="openFavoritesModal" class="btn small" title="Favorites">
          ‚òÖ Favorites
        </button>
        <button id="starBtn" class="btn small" title="Star/Unstar">‚òÜ</button>
        <button id="newChildBtn" class="btn small" title="New subpage">
          Ôºã Subpage
        </button>
        <button id="actionSearch" class="btn small" title="Search">üîé</button>
        <button id="actionSettings" class="btn small" title="Settings">
          ‚öôÔ∏è
        </button>
      </div>
    </header>

    <!-- Main -->
    <main>
      <div class="doc-canvas">
        <!-- Header -->
        <div class="doc-header">
          <button id="iconBtn" class="doc-icon-big" title="Change icon">
            üìÑ
          </button>
          <div class="title-wrap">
            <input id="titleInput" class="title-input" placeholder="Untitled" />
            <div id="docMeta" class="meta">
              ‚Äî <span id="lastEdited"></span>
            </div>
          </div>
        </div>

        <!-- Toolbar -->
        <div id="toolbar" class="toolbar" role="toolbar" aria-label="Editor toolbar">
          <button class="tbtn" data-cmd="bold"><b>B</b></button>
          <button class="tbtn" data-cmd="italic"><i>I</i></button>
          <button class="tbtn" data-cmd="underline"><u>U</u></button>
          <span class="sep"></span>
          <button class="tbtn" data-format="P">P</button>
          <button class="tbtn" data-format="H1">H1</button>
          <button class="tbtn" data-format="H2">H2</button>
          <button class="tbtn" data-format="H3">H3</button>
          <span class="sep"></span>
          <button id="bulletsBtn" class="tbtn">‚Ä¢ List</button>
          <button id="numbersBtn" class="tbtn">1. List</button>
          <button id="todoBtn" class="tbtn">‚òê To-do</button>
          <button id="codeBtn" class="tbtn">{}</button>
          <button id="quoteBtn" class="tbtn">‚ùù</button>
        </div>

        <!-- Editor -->
        <div id="editor" class="editor" contenteditable="true"></div>
      </div>
    </main>
  </div>

  <!-- Trash Popover -->
  <div id="trashPopover" class="popover" style="width: 360px">
    <div class="search">
      <span>üîé</span>
      <input id="trashSearch" placeholder="Filter by page title..." />
    </div>
    <div id="trashList" class="trash-list" role="listbox"></div>
  </div>

  <!-- Emoji Picker -->
  <div id="emojiPicker" class="popover" style="width: 340px">
    <div class="emoji-grid" id="emojiGrid"></div>
  </div>

  <!-- Search Overlay -->
  <div id="searchOverlay" class="overlay">
    <div class="search-modal">
      <input id="searchInput" class="search-input" placeholder="Search pages..." />
      <div id="searchResults" class="search-results"></div>
      <div class="hint">‚Üë/‚Üì navigate, Enter open, ESC close</div>
    </div>
  </div>

  <button id="actionSettings" class="btn small" title="Settings">
    ‚öôÔ∏è
  </button>

  <!-- Settings Overlay -->
  <div id="settingsOverlay" class="overlay">
    <div class="settings-modal">
      <div class="settings-header">
        <h3>Settings</h3>
        <button id="settingsClose" class="btn small">Close</button>
      </div>

      <div class="settings-grid">
        <!-- Row: Theme -->
        <div class="settings-row">
          <div>
            <div class="label">Use light theme</div>
            <div class="sublabel">Toggle between light and dark modes</div>
          </div>
          <label class="switch">
            <input id="themeToggle" type="checkbox" />
            <span>Light</span>
          </label>
        </div>

      </div>
    </div>
  </div>

  <script>
    const $ = (sel) => document.querySelector(sel);
    const actionSettings = $("#actionSettings")
    const modal = $(".overlay")
    const closeBtn = $('#settingsClose');

    function openModal() {
      actionSettings.classList.toggle('');
      modal.setAttribute('aria-hidden', modal.classList.contains('show') ? 'false' : 'true');
    }

    function openModal() {
      $("#actionSettings").classList.toggle("show");
    }
    $("#actionSettings").addEventListener("click", openModal);
    $("settingsClose").addEventListener("click", openModal);

    $(".modal").addEventListener("click", () => {
      console.log("modal click");
      console.log("Ïù¥Î≤§Ìä∏.target : " + Ïù¥Î≤§Ìä∏.target);
      console.log("Ïù¥Î≤§Ìä∏.currentTarget : " + Ïù¥Î≤§Ìä∏.currentTarget);
    });

    if (event.target === document.querySelector(".modal")) {
      $(".modal").classList.remove("show");
    }

  </script>

  <!-- Favorites Overlay -->
  <div id="favoritesOverlay" class="overlay">
    <div class="favorites-modal">
      <div class="row" style="justify-content: space-between; margin-bottom: 8px">
        <h3 style="margin: 0">Favorites</h3>
        <button id="favoritesClose" class="btn small">Close</button>
      </div>
      <div id="favoritesListModal" class="favorites-list"></div>
    </div>
  </div>

  <!-- Confirm modal -->
  <div id="modalOverlay" class="modal-overlay">
    <div class="modal">
      <h3 id="modalTitle">Confirm</h3>
      <div id="modalMessage" style="margin: 8px 0 12px"></div>
      <div class="row-end">
        <button id="modalCancel" class="btn">Cancel</button>
        <button id="modalConfirm" class="btn danger">Confirm</button>
      </div>
    </div>
  </div>

  <!-- Toasts -->
  <div id="toasts" class="toasts"></div>


  <script src="app.js"></script>
</body>

</html>